# Sofia for STD FCA

Here we provide an example of json file for a lattice built from a binary context by means of Sofia. 
The binary context corresponds to a well known example on ['Live in Water'](http://www.upriss.org.uk/fca/examples.html). 
This lattice is built with the settings from [a special file](https://github.com/AlekseyBuzmakov/FCAPS/blob/master/FCAPS/EXAMPLES/SofiaFCA/params.md). 
The dataset is given by the context file ([see further for more details (the same as in StdFCA example](https://github.com/AlekseyBuzmakov/FCAPS/blob/master/FCAPS/EXAMPLES/StdFCA/context.md)). 
The computation starts with the following command:

> Sofia -CP:[params.json](https://raw.githubusercontent.com/AlekseyBuzmakov/FCAPS/master/FCAPS/EXAMPLES/SofiaFCA/params.json) -out:result.json

The example of the output can be found in [result.json](https://github.com/AlekseyBuzmakov/FCAPS/blob/master/FCAPS/EXAMPLES/SofiaFCA/result.json)

## Computing importance of attributes

Since some of the attributes are just the result of closure, while others are likely os less likely are generators, then the significance of attributes is different.
Here we compute significance by a similar technics to SHAPley values.

First we should compute the context in similar way as before but then we apply [a special filter](https://raw.githubusercontent.com/AlekseyBuzmakov/FCAPS/master/FCAPS/EXAMPLES/SofiaFCA/filter.md) that updates result lattice.

> Sofia -CP:[params.json](https://raw.githubusercontent.com/AlekseyBuzmakov/FCAPS/master/FCAPS/EXAMPLES/SofiaFCA/params.json) -fltr:[filter.json](https://raw.githubusercontent.com/AlekseyBuzmakov/FCAPS/master/FCAPS/EXAMPLES/SofiaFCA/filter.json) -out:result.json

There are two result files. One is the same as above [result.json](https://github.com/AlekseyBuzmakov/FCAPS/blob/master/FCAPS/EXAMPLES/SofiaFCA/result.json). 
The second one is [result.json.SHAP](https://github.com/AlekseyBuzmakov/FCAPS/blob/master/FCAPS/EXAMPLES/SofiaFCA/result.json.SHAP) generated by the filter.

